{"body":"<p>How do I check if a particular key exists in a JavaScript object or array?</p>\n\n<p>If a key doesn't exist, and I try to access it, will it return false? Or throw an error?</p>\n","title":"Checking if a key exists in a JavaScript object?","answers":[{"score":152,"body":"<p>It will return <code>undefined</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var aa = {hello: \"world\"};\r\nalert( aa[\"hello\"] );      // popup box with \"world\"\r\nalert( aa[\"goodbye\"] );    // popup box with \"undefined\"</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><code>undefined</code> is a special constant value.  So you can say, e.g.</p>\n\n<pre><code>// note the three equal signs so that null won't be equal to undefined\nif( aa[\"goodbye\"] === undefined ) {\n    // do something\n}\n</code></pre>\n\n<p>This is probably the best way to check for missing keys.  However, as is pointed out in a comment below, it's theoretically possible that you'd want to have the actual value be <code>undefined</code>.  I've never needed to do this and can't think of a reason offhand why I'd ever want to, but just for the sake of completeness, you can use the <code>in</code> operator</p>\n\n<pre><code>// this works even if you have {\"goodbye\": undefined}\nif( \"goodbye\" in aa ) {\n    // do something\n}\n</code></pre>\n"},{"score":4401,"body":"<p>Checking for undefined-ness is not an accurate way of testing whether a key exists. What if the key exists but the value is actually <code>undefined</code>?</p>\n\n<pre><code>var obj = { key: undefined };\nobj[\"key\"] !== undefined // false, but the key exists!\n</code></pre>\n\n<p>You should instead use the <code>in</code> operator:</p>\n\n<pre><code>\"key\" in obj // true, regardless of the actual value\n</code></pre>\n\n<p>If you want to check if a key doesn't exist, remember to use parenthesis:</p>\n\n<pre><code>!(\"key\" in obj) // true if \"key\" doesn't exist in object\n!\"key\" in obj   // ERROR!  Equivalent to \"false in obj\"\n</code></pre>\n\n<p>Or, if you want to particularly test for properties of the object instance (and not inherited properties), use <code>hasOwnProperty</code>:</p>\n\n<pre><code>obj.hasOwnProperty(\"key\") // true\n</code></pre>\n\n<p>For performance comparison between the methods that are <code>in</code>, <code>hasOwnProperty</code> and key is <code>undefined</code>, see this <a href=\"http://jsben.ch/#/WqlIl\" rel=\"noreferrer\"><strong>benchmark</strong></a></p>\n"},{"score":31,"body":"<pre><code>\"key\" in obj\n</code></pre>\n\n<p>Is likely testing only object attribute values that are very different from array keys</p>\n"},{"score":25,"body":"<p>Three ways to check if a property is present in a javascript object:</p>\n\n<ol>\n<li><strong><code>!!obj.theProperty</code></strong><br>\nWill convert value to bool. returns <code>true</code> for all but the <code>false</code> value</li>\n<li><strong>'<code>theProperty</code>' in obj</strong><br>\nWill return true if the property exists, no matter its value (even empty)</li>\n<li><strong><code>obj.hasOwnProperty('theProperty')</code></strong><br>\nDoes not check the prototype chain. (since all objects have the <code>toString</code> method, 1 and 2 will return true on it, while 3 can return false on it.)</li>\n</ol>\n\n<p>Reference: </p>\n\n<blockquote>\n  <p><a href=\"http://book.mixu.net/node/ch5.html\" rel=\"nofollow noreferrer\">http://book.mixu.net/node/ch5.html</a></p>\n</blockquote>\n"},{"score":317,"body":"<h1>Quick Answer</h1>\n<blockquote>\n<p>How do I check if a particular key exists in a JavaScript object or array?\nIf a key doesn't exist and I try to access it, will it return false? Or throw an error?</p>\n</blockquote>\n<p>Accessing directly a missing property using (associative) array style or object style will return an <em>undefined</em> constant.</p>\n<h2>The slow and reliable <em>in</em> operator and <em>hasOwnProperty</em> method</h2>\n<p>As people have already mentioned here, you could have an object with a property associated with an &quot;undefined&quot; constant.</p>\n<pre><code> var bizzareObj = {valid_key:  undefined};\n</code></pre>\n<p>In that case, you will have to use <em>hasOwnProperty</em> or <em>in</em> operator to know if the key is really there. But, <em>but at what price?</em></p>\n<p>so, I tell you...</p>\n<p><em>in</em> operator and <em>hasOwnProperty</em> are &quot;methods&quot; that use the Property Descriptor mechanism in Javascript (similar to Java reflection in the Java language).</p>\n<p><a href=\"http://www.ecma-international.org/ecma-262/5.1/#sec-8.10\" rel=\"noreferrer\">http://www.ecma-international.org/ecma-262/5.1/#sec-8.10</a></p>\n<blockquote>\n<p>The Property Descriptor type is used to explain the manipulation and reification of named property attributes. Values of the Property Descriptor type are records composed of named fields where each field’s name is an attribute name and its value is a corresponding attribute value as specified in 8.6.1. In addition, any field may be present or absent.</p>\n</blockquote>\n<p>On the other hand, calling an object method or key will use Javascript [[Get]] mechanism. That is a far way faster!</p>\n<h2>Benchmark</h2>\n<p><a href=\"http://jsperf.com/checking-if-a-key-exists-in-a-javascript-array\" rel=\"noreferrer\">http://jsperf.com/checking-if-a-key-exists-in-a-javascript-array</a></p>\n<p><img src=\"https://i.stack.imgur.com/GjzNU.png\" alt=\"Comparing key access in JS\" />.</p>\nUsing <em>in</em> operator\n<pre><code>var result = &quot;Impression&quot; in array;\n</code></pre>\n<p>The result was</p>\n<pre><code>12,931,832 ±0.21% ops/sec      92% slower \n</code></pre>\nUsing hasOwnProperty\n<pre><code>var result = array.hasOwnProperty(&quot;Impression&quot;)\n</code></pre>\n<p>The result was</p>\n<pre><code>16,021,758 ±0.45% ops/sec     91% slower\n</code></pre>\nAccessing elements directly (brackets style)\n<pre><code>var result = array[&quot;Impression&quot;] === undefined\n</code></pre>\n<p>The result was</p>\n<pre><code>168,270,439 ±0.13 ops/sec     0.02% slower \n</code></pre>\nAccessing elements directly (object style)\n<pre><code>var result = array.Impression  === undefined;\n</code></pre>\n<p>The result was</p>\n<pre><code>168,303,172 ±0.20%     fastest\n</code></pre>\n<h2>EDIT: What is the reason to assign to a property the <code>undefined</code> value?</h2>\n<p>That question puzzles me. In Javascript, there are at least two references for absent objects to avoid problems like this: <code>null</code> and <code>undefined</code>.</p>\n<p><code>null</code> is the primitive value that represents the intentional absence of any object value, or in short terms, the <strong>confirmed</strong> lack of value. On the other hand, <code>undefined</code> is an unknown value (not defined). If there is a property that will be used later with a <em>proper</em> value consider use <code>null</code> reference instead of <code>undefined</code> because in the initial moment the property is <strong>confirmed</strong> to lack value.</p>\n<p>Compare:</p>\n<pre><code>var a = {1: null}; \nconsole.log(a[1] === undefined); // output: false. I know the value at position 1 of a[] is absent and this was by design, i.e.:  the value is defined. \nconsole.log(a[0] === undefined); // output: true. I cannot say anything about a[0] value. In this case, the key 0 was not in a[].\n</code></pre>\n<h2>Advice</h2>\n<p>Avoid objects with <code>undefined</code> values. Check directly whenever possible and use <code>null</code> to initialize property values. Otherwise, use the slow <code>in</code> operator or <code>hasOwnProperty()</code> method.</p>\n<h2>EDIT: 12/04/2018 - NOT RELEVANT ANYMORE</h2>\n<p>As people have commented, modern versions of the Javascript engines (with firefox exception) have changed the approach for access properties. The current implementation is slower than the previous one for this particular case but the difference between access key and object is neglectable.</p>\n"},{"score":15,"body":"<p>If you are using <a href=\"http://underscorejs.org/\" rel=\"noreferrer\">underscore.js</a> library then object/array operations become simple. </p>\n\n<p>In your case _.has method can be used. Example:</p>\n\n<pre><code>yourArray = {age: \"10\"}\n\n_.has(yourArray, \"age\")\n</code></pre>\n\n<p>returns <strong>true</strong> </p>\n\n<p>But,</p>\n\n<pre><code>_.has(yourArray, \"invalidKey\")\n</code></pre>\n\n<p>returns <strong>false</strong></p>\n"},{"score":33,"body":"<p>The <a href=\"https://stackoverflow.com/a/1098955/1619432\">accepted answer</a> refers to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\" rel=\"noreferrer\">Object</a>. Beware using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/in\" rel=\"noreferrer\"><code>in</code> operator</a> on <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\" rel=\"noreferrer\">Array</a> to find data instead of keys:</p>\n\n<pre><code>(\"true\" in [\"true\", \"false\"])\n// -&gt; false (Because the keys of the above Array are actually 0 and 1)\n</code></pre>\n\n<p>To test existing elements in an Array: <a href=\"https://stackoverflow.com/questions/143847/best-way-to-find-an-item-in-a-javascript-array\">Best way to find if an item is in a JavaScript array?</a></p>\n"},{"score":11,"body":"<h1>Here's a helper function I find quite useful</h1>\n\n<p>This <code>keyExists(key, search)</code> can be used to easily lookup a key within  objects or arrays! </p>\n\n<p>Just pass it the key you want to find, and search obj (the object or array) you want to find it in.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function keyExists(key, search) {\r\n        if (!search || (search.constructor !== Array &amp;&amp; search.constructor !== Object)) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i &lt; search.length; i++) {\r\n            if (search[i] === key) {\r\n                return true;\r\n            }\r\n        }\r\n        return key in search;\r\n    }\r\n\r\n// How to use it:\r\n// Searching for keys in Arrays\r\nconsole.log(keyExists('apple', ['apple', 'banana', 'orange'])); // true\r\nconsole.log(keyExists('fruit', ['apple', 'banana', 'orange'])); // false\r\n\r\n// Searching for keys in Objects\r\nconsole.log(keyExists('age', {'name': 'Bill', 'age': 29 })); // true\r\nconsole.log(keyExists('title', {'name': 'Jason', 'age': 29 })); // false</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It's been pretty reliable and works well cross-browser.</p>\n"},{"score":15,"body":"<p><strong>Answer:</strong></p>\n\n<pre><code>if (\"key\" in myObj)\n{\n    console.log(\"key exists!\");\n}\nelse\n{\n    console.log(\"key doesn't exist!\");\n}\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<p>The <code>in</code> operator will check if the key exists in the object. If you checked if the value was undefined: <code>if (myObj[\"key\"] === 'undefined')</code>, you could run into problems because a key could possibly exist in your object with the <code>undefined</code> value.</p>\n\n<p>For that reason, it is much better practice to first use the <code>in</code> operator and then compare the value that is inside the key once you already know it exists.</p>\n"},{"score":6,"body":"<h3>We can use - <code>hasOwnProperty.call(obj, key);</code></h3>\n\n<p>The <a href=\"http://underscorejs.org/#has\" rel=\"noreferrer\">underscore.js</a> way - </p>\n\n<pre><code>if(_.has(this.options, 'login')){\n  //key 'login' exists in this.options \n}\n\n_.has = function(obj, key) {\n  return hasOwnProperty.call(obj, key);\n};\n</code></pre>\n"},{"score":9,"body":"<p>vanila js</p>\n\n<pre><code>yourObjName.hasOwnProperty(key) : true ? false;\n</code></pre>\n\n<p>If you want to check if the object has at least one property in es2015</p>\n\n<pre><code>Object.keys(yourObjName).length : true ? false\n</code></pre>\n"},{"score":9,"body":"<h1> ES6 solution</h1>\n\n<p>using <strong><a href=\"https://developer.mozilla.org/pl/docs/Web/JavaScript/Referencje/Obiekty/Array/some\" rel=\"noreferrer\"><code>Array#some</code></a></strong> and <strong><a href=\"https://developer.mozilla.org/pl/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" rel=\"noreferrer\"><code>Object.keys</code></a></strong>. It will return <strong>true</strong> if given key exists in the object or <strong>false</strong> if it doesn't.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {foo: 'one', bar: 'two'};\r\n    \r\nfunction isKeyInObject(obj, key) {\r\n    var res = Object.keys(obj).some(v =&gt; v == key);\r\n    console.log(res);\r\n}\r\n\r\nisKeyInObject(obj, 'foo');\r\nisKeyInObject(obj, 'something');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>One-line example.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(Object.keys({foo: 'one', bar: 'two'}).some(v =&gt; v == 'foo'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"score":4,"body":"<h3>For those which have <code>lodash</code> included in their project:<br>There is a lodash <a href=\"https://lodash.com/docs/4.17.4#get\" rel=\"nofollow noreferrer\">_.get</a> method  which tries to get \"deep\" keys:</h3>\n\n<blockquote>\n  <p>Gets the value at path of object. If the resolved value is undefined,\n  the defaultValue is returned in its place.</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var object = { 'a': [{ 'b': { 'c': 3 } }] };\r\n\r\nconsole.log(\r\n  _.get(object, 'a[0].b.c'),           // =&gt; 3\r\n  _.get(object, ['a', '0', 'b', 'c']), // =&gt; 3\r\n  _.get(object, 'a.b.c'),              // =&gt; undefined \r\n  _.get(object, 'a.b.c', 'default')    // =&gt; 'default'\r\n)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>This will effectively check if that key, however <strong>deep</strong>, is defined and <em>will not</em> throw an error which might harm the flow of your program if that key is not defined.</p>\n"},{"score":4,"body":"<p>While this doesn't necessarily check if a key exists, it does check for the truthiness of a value. Which <code>undefined</code> and <code>null</code> fall under.</p>\n\n<p><code>Boolean(obj.foo)</code></p>\n\n<p>This solution works best for me because I use typescript, and using strings like so <code>'foo' in obj</code> or <code>obj.hasOwnProperty('foo')</code> \n  to check whether a key exists or not does not provide me with intellisense.</p>\n"},{"score":0,"body":"<p>These example can demonstrate the differences between defferent ways. Hope it will help you to pick the right one for your needs:</p>\n\n<pre><code>// Lets create object `a` using create function `A`\nfunction A(){};\nA.prototype.onProtDef=2;\nA.prototype.onProtUndef=undefined;\nvar a=new A();\na.ownProp = 3;\na.ownPropUndef = undefined;\n\n// Let's try different methods:\n\na.onProtDef; // 2\na.onProtUndef; // undefined\na.ownProp; // 3\na.ownPropUndef; // undefined\na.whatEver; // undefined\na.valueOf; // ƒ valueOf() { [native code] }\n\na.hasOwnProperty('onProtDef'); // false\na.hasOwnProperty('onProtUndef'); // false\na.hasOwnProperty('ownProp'); // true\na.hasOwnProperty('ownPropUndef'); // true\na.hasOwnProperty('whatEver'); // false\na.hasOwnProperty('valueOf'); // false\n\n'onProtDef' in a; // true\n'onProtUndef' in a; // true\n'ownProp' in a; // true\n'ownPropUndef' in a; // true\n'whatEver' in a; // false\n'valueOf' in a; // true (on the prototype chain - Object.valueOf)\n\nObject.keys(a); // [\"ownProp\", \"ownPropUndef\"]\n</code></pre>\n"},{"score":-1,"body":"<p>New awesome solution with <strong>JavaScript Destructuring</strong>:</p>\n\n<pre><code>let obj = {\n    \"key1\": \"value1\",\n    \"key2\": \"value2\",\n    \"key3\": \"value3\",\n};\n\nlet {key1, key2, key3, key4} = obj;\n\n// key1 = \"value1\"\n// key2 = \"value2\"\n// key3 = \"value3\"\n// key4 = undefined\n\n// Can easily use `if` here on key4\nif(!key4) { console.log(\"key not present\"); } // Key not present\n</code></pre>\n\n<p>Do check <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">other use of JavaScript Destructuring</a></p>\n"},{"score":4,"body":"<p>If you want to check for any key at any depth on an object and account for falsey values consider this line for a utility function:</p>\n\n<pre><code>var keyExistsOn = (o, k) =&gt; k.split(\".\").reduce((a, c) =&gt; a.hasOwnProperty(c) ? a[c] || 1 : false, Object.assign({}, o)) === false ? false : true;\n</code></pre>\n\n<p><strong>Results</strong></p>\n\n<pre><code>var obj = {\n    test: \"\",\n    locals: {\n        test: \"\",\n        test2: false,\n        test3: NaN,\n        test4: 0,\n        test5: undefined,\n        auth: {\n            user: \"hw\"\n        }\n    }\n}\n\nkeyExistsOn(obj, \"\")\n&gt; false\nkeyExistsOn(obj, \"locals.test\")\n&gt; true\nkeyExistsOn(obj, \"locals.test2\")\n&gt; true\nkeyExistsOn(obj, \"locals.test3\")\n&gt; true\nkeyExistsOn(obj, \"locals.test4\")\n&gt; true\nkeyExistsOn(obj, \"locals.test5\")\n&gt; true\nkeyExistsOn(obj, \"sdsdf\")\nfalse\nkeyExistsOn(obj, \"sdsdf.rtsd\")\nfalse\nkeyExistsOn(obj, \"sdsdf.234d\")\nfalse\nkeyExistsOn(obj, \"2134.sdsdf.234d\")\nfalse\nkeyExistsOn(obj, \"locals\")\ntrue\nkeyExistsOn(obj, \"locals.\")\nfalse\nkeyExistsOn(obj, \"locals.auth\")\ntrue\nkeyExistsOn(obj, \"locals.autht\")\nfalse\nkeyExistsOn(obj, \"locals.auth.\")\nfalse\nkeyExistsOn(obj, \"locals.auth.user\")\ntrue\nkeyExistsOn(obj, \"locals.auth.userr\")\nfalse\nkeyExistsOn(obj, \"locals.auth.user.\")\nfalse\nkeyExistsOn(obj, \"locals.auth.user\")\ntrue\n</code></pre>\n\n<p>Also see this NPM package: <a href=\"https://www.npmjs.com/package/has-deep-value\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/has-deep-value</a></p>\n"},{"score":5,"body":"<p>The easiest way to check is </p>\n\n<pre><code>\"key\" in object\n</code></pre>\n\n<p>for example: </p>\n\n<pre><code>var obj = {\n  a: 1,\n  b: 2,\n}\n\"a\" in obj // true\n\"c\" in obj // false\n</code></pre>\n\n<p>Return value as <strong>true</strong> implies that key exists in the object. </p>\n"},{"score":2,"body":"<p><strong>yourArray.indexOf(yourArrayKeyName) > -1</strong></p>\n\n<pre><code>fruit = ['apple', 'grapes', 'banana']\n\nfruit.indexOf('apple') &gt; -1\n</code></pre>\n\n<p><em>true</em></p>\n\n<hr>\n\n<pre><code>fruit = ['apple', 'grapes', 'banana']\n\nfruit.indexOf('apple1') &gt; -1\n</code></pre>\n\n<p><em>false</em></p>\n"},{"score":3,"body":"<pre><code>const object1 = {\n  a: 'something',\n  b: 'something',\n  c: 'something'\n};\n\nconst key = 's';\n\n// Object.keys(object1) will return array of the object keys ['a', 'b', 'c']\n\nObject.keys(object1).indexOf(key) === -1 ? 'the key is not there' : 'yep the key is exist';\n</code></pre>\n"},{"score":3,"body":"<p>In 'array' world we can look on indexes as some kind of keys. What is surprising the <code>in</code> operator (which is good choice for object) also works with arrays. The returned value for non-existed key is <code>undefined</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [\"a\",\"b\",\"c\"]; // we have indexes: 0,1,2\r\ndelete arr[1];           // set 'empty' at index 1\r\narr.pop();               // remove last item\r\n\r\nconsole.log(0 in arr,  arr[0]);\r\nconsole.log(1 in arr,  arr[1]);\r\nconsole.log(2 in arr,  arr[2]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"score":0,"body":"<p>a fast and easy solution is to convert your object to json then you will be able to do this easy task</p>\n\n<pre><code>    const allowed = {\n        '/login' : '',\n        '/register': '',\n        '/resetpsw': ''\n    };\n    console.log('/login' in allowed); //returns true\n</code></pre>\n\n<p>if you use an array the object key will be converted to integers ex 0,1,2,3 etc, therefore, it will always be false</p>\n"}],"score":3164}