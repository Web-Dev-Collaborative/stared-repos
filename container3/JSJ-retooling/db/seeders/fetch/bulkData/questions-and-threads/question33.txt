{"body":"<p>I am looking for a JavaScript array insert method, in the style of:</p>\n\n<pre><code>arr.insert(index, item)\n</code></pre>\n\n<p>Preferably in jQuery, but any JavaScript implementation will do at this point.</p>\n","title":"How to insert an item into an array at a specific index (JavaScript)?","answers":[{"score":5129,"body":"<p>What you want is the <strong><a href=\"https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/splice\" rel=\"noreferrer\"><code>splice</code></a></strong> function on the native array object.</p>\n\n<p><code>arr.splice(index, 0, item);</code> will insert <code>item</code> into <code>arr</code> at the specified index (deleting <code>0</code> items first, that is, it's just an insert).</p>\n\n<p>In this example we will create an array and add an element to it into index 2:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [];\r\narr[0] = \"Jani\";\r\narr[1] = \"Hege\";\r\narr[2] = \"Stale\";\r\narr[3] = \"Kai Jim\";\r\narr[4] = \"Borge\";\r\n\r\nconsole.log(arr.join());\r\narr.splice(2, 0, \"Lene\");\r\nconsole.log(arr.join());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"score":42,"body":"<p>If you want to insert multiple elements into an array at once check out this Stack Overflow answer: <a href=\"https://stackoverflow.com/questions/1348178/a-better-way-to-splice-an-arrray-into-an-array-in-javascript\">A better way to splice an array into an array in javascript</a></p>\n\n<p>Also here are some functions to illustrate both examples:</p>\n\n<pre><code>function insertAt(array, index) {\n    var arrayToInsert = Array.prototype.splice.apply(arguments, [2]);\n    return insertArrayAt(array, index, arrayToInsert);\n}\n\nfunction insertArrayAt(array, index, arrayToInsert) {\n    Array.prototype.splice.apply(array, [index, 0].concat(arrayToInsert));\n    return array;\n}\n</code></pre>\n\n<p>Finally here is a jsFiddle so you can see it for youself: <a href=\"http://jsfiddle.net/luisperezphd/Wc8aS/\" rel=\"noreferrer\">http://jsfiddle.net/luisperezphd/Wc8aS/</a></p>\n\n<p>And this is how you use the functions:</p>\n\n<pre><code>// if you want to insert specific values whether constants or variables:\ninsertAt(arr, 1, \"x\", \"y\", \"z\");\n\n// OR if you have an array:\nvar arrToInsert = [\"x\", \"y\", \"z\"];\ninsertArrayAt(arr, 1, arrToInsert);\n</code></pre>\n"},{"score":301,"body":"<p>You can implement the <code>Array.insert</code> method by doing this:</p>\n\n<pre><code>Array.prototype.insert = function ( index, item ) {\n    this.splice( index, 0, item );\n};\n</code></pre>\n\n<p>Then you can use it like:</p>\n\n<pre><code>var arr = [ 'A', 'B', 'D', 'E' ];\narr.insert(2, 'C');\n\n// =&gt; arr == [ 'A', 'B', 'C', 'D', 'E' ]\n</code></pre>\n"},{"score":77,"body":"<h1>Custom array <code>insert</code> methods</h1>\n\n<h3><em>1. With multiple arguments and chaining support</em></h3>\n\n<pre><code>/* Syntax:\n   array.insert(index, value1, value2, ..., valueN) */\n\nArray.prototype.insert = function(index) {\n    this.splice.apply(this, [index, 0].concat(\n        Array.prototype.slice.call(arguments, 1)));\n    return this;\n};\n</code></pre>\n\n<p>It can insert multiple elements (as native <a href=\"https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Array/splice\" rel=\"noreferrer\"><code>splice</code></a> does) and supports chaining:</p>\n\n<pre><code>[\"a\", \"b\", \"c\", \"d\"].insert(2, \"X\", \"Y\", \"Z\").slice(1, 6);\n// [\"b\", \"X\", \"Y\", \"Z\", \"c\"]\n</code></pre>\n\n<hr>\n\n<h3><em>2. With array-type arguments merging and chaining support</em></h3>\n\n<pre><code>/* Syntax:\n   array.insert(index, value1, value2, ..., valueN) */\n\nArray.prototype.insert = function(index) {\n    index = Math.min(index, this.length);\n    arguments.length &gt; 1\n        &amp;&amp; this.splice.apply(this, [index, 0].concat([].pop.call(arguments)))\n        &amp;&amp; this.insert.apply(this, arguments);\n    return this;\n};\n</code></pre>\n\n<p>It can merge arrays from the arguments with the given array and also supports chaining:</p>\n\n<pre><code>[\"a\", \"b\", \"c\", \"d\"].insert(2, \"V\", [\"W\", \"X\", \"Y\"], \"Z\").join(\"-\");\n// \"a-b-V-W-X-Y-Z-c-d\"\n</code></pre>\n\n<p><strong>DEMO:</strong> <a href=\"http://jsfiddle.net/UPphH/\" rel=\"noreferrer\">http://jsfiddle.net/UPphH/</a></p>\n"},{"score":4,"body":"<p>Even though this has been answered already, I'm adding this note for an alternative approach.</p>\n\n<p>I wanted to place a <strong>known number</strong> of items into an array, into specific positions, as they come off of an \"associative array\" (i.e. an object) which by definition is not guaranteed to be in a sorted order. I wanted the resulting array to be an array of objects, but the objects to be in a specific order in the array since an array guarantees their order. So I did this.</p>\n\n<p>First the source object, a JSONB string retrieved from PostgreSQL. I wanted to have it sorted by the \"order\" property in each child object.</p>\n\n<pre><code>var jsonb_str = '{\"one\": {\"abbr\": \"\", \"order\": 3}, \"two\": {\"abbr\": \"\", \"order\": 4}, \"three\": {\"abbr\": \"\", \"order\": 5}, \"initialize\": {\"abbr\": \"init\", \"order\": 1}, \"start\": {\"abbr\": \"\", \"order\": 2}}';\n\nvar jsonb_obj = JSON.parse(jsonb_str);\n</code></pre>\n\n<p>Since the number of nodes in the object is known, I first create an array with the specified length:</p>\n\n<pre><code>var obj_length = Object.keys(jsonb_obj).length;\nvar sorted_array = new Array(obj_length);\n</code></pre>\n\n<p>And then iterate the object, placing the newly created temporary objects into the desired locations in the array without really any \"sorting\" taking place.</p>\n\n<pre><code>for (var key of Object.keys(jsonb_obj)) {\n  var tobj = {};\n  tobj[key] = jsonb_obj[key].abbr;\n\n  var position = jsonb_obj[key].order - 1;\n  sorted_array[position] = tobj;\n}\n\nconsole.dir(sorted_array);\n</code></pre>\n"},{"score":22,"body":"<p>For proper functional programming and chaining purposes an invention of <code>Array.prototype.insert()</code> is essential. Actually splice could have been perfect if it had returned the mutated array instead of a totally meaningless empty array. So here it goes</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Array.prototype.insert = function(i,...rest){\r\n  this.splice(i,0,...rest)\r\n  return this\r\n}\r\n\r\nvar a = [3,4,8,9];\r\ndocument.write(\"&lt;pre&gt;\" + JSON.stringify(a.insert(2,5,6,7)) + \"&lt;/pre&gt;\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Well ok the above with the <code>Array.prototype.splice()</code> one mutates the original array and some might complain like \"you shouldn't modify what doesn't belong to you\" and that might turn out to be right as well. So for the public welfare i would like to give another <code>Array.prototype.insert()</code> which doesn't mutate the original array. Here it goes;</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Array.prototype.insert = function(i,...rest){\r\n  return this.slice(0,i).concat(rest,this.slice(i));\r\n}\r\n\r\nvar a = [3,4,8,9],\r\n    b = a.insert(2,5,6,7);\r\nconsole.log(JSON.stringify(a));\r\nconsole.log(JSON.stringify(b));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"score":160,"body":"<p>Other than splice, you can use this approach which will not mutate the original array, but will create a new array with the added item. You should usually avoid mutation whenever possible. I'm using ES6 spread operator here.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const items = [1, 2, 3, 4, 5]\r\n\r\nconst insert = (arr, index, newItem) =&gt; [\r\n  // part of the array before the specified index\r\n  ...arr.slice(0, index),\r\n  // inserted item\r\n  newItem,\r\n  // part of the array after the specified index\r\n  ...arr.slice(index)\r\n]\r\n\r\nconst result = insert(items, 1, 10)\r\n\r\nconsole.log(result)\r\n// [1, 10, 2, 3, 4, 5]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This can be used to add more than one item by tweaking the function a bit to use the rest operator for the new items, and spread that in the returned result as well</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const items = [1, 2, 3, 4, 5]\r\n\r\nconst insert = (arr, index, ...newItems) =&gt; [\r\n  // part of the array before the specified index\r\n  ...arr.slice(0, index),\r\n  // inserted items\r\n  ...newItems,\r\n  // part of the array after the specified index\r\n  ...arr.slice(index)\r\n]\r\n\r\nconst result = insert(items, 1, 10, 20)\r\n\r\nconsole.log(result)\r\n// [1, 10, 20, 2, 3, 4, 5]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"score":2,"body":"<p>I tried this and it is working fine!</p>\n\n<pre><code>var initialArr = [\"India\",\"China\",\"Japan\",\"USA\"];\ninitialArr.splice(index, 0, item);\n</code></pre>\n\n<p>Index is the position where you want to insert or delete the element.\n0 i.e. the second parameters defines the number of element from the index to be removed\nitem are the new entries which you want to make in array. It can be one or more than one.</p>\n\n<pre><code>initialArr.splice(2, 0, \"Nigeria\");\ninitialArr.splice(2, 0, \"Australia\",\"UK\");\n</code></pre>\n"},{"score":7,"body":"<p>Another possible solution, with usage of <code>Array#reduce</code>.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\"apple\", \"orange\", \"raspberry\"];\nconst arr2 = [1, 2, 4];\n\nconst insert = (arr, item, index) =&gt;\n  arr.reduce(function(s, a, i) {\n    i === index ? s.push(item, a) : s.push(a);\n    return s;\n  }, []); \n\nconsole.log(insert(arr, \"banana\", 1));\nconsole.log(insert(arr2, 3, 2))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"score":19,"body":"<p>I recommend using pure <strong>JavaScript</strong> in this case, also there is no insert method in JavaScript, but we have a method which is a  <strong>built-in Array</strong> method which does the job for you, it's called <strong>splice</strong>...</p>\n\n<p>Let's see what's <strong>splice()</strong>...</p>\n\n<blockquote>\n  <p>The splice() method changes the contents of an array by removing\n  existing elements and/or adding new elements.</p>\n</blockquote>\n\n<p>OK, imagine we have this array below:</p>\n\n<pre><code>const arr = [1, 2, 3, 4, 5];\n</code></pre>\n\n<p>We can remove <code>3</code> like this:</p>\n\n<pre><code>arr.splice(arr.indexOf(3), 1);\n</code></pre>\n\n<p>It will return 3, but if we check the arr now, we have:</p>\n\n<pre><code>[1, 2, 4, 5]\n</code></pre>\n\n<p>So far, so good, but how we can add a new element to array using splice?\nLet's put back 3 in the arr...</p>\n\n<pre><code>arr.splice(2, 0, 3);\n</code></pre>\n\n<p>Let's see what we have done...</p>\n\n<p>We use <strong>splice</strong> again, but this time for the second argument, we pass <strong>0</strong>, means we want to delete no item, but at the same time, we add third argument which is 3 that will be added at second index...</p>\n\n<p>You should be aware, that we can <strong>delete</strong> and <strong>add</strong> at the same time, for example now we can do:</p>\n\n<pre><code>arr.splice(2, 2, 3);\n</code></pre>\n\n<p>Which will delete <strong>2 items</strong> at index 2, then add <strong>3</strong> at index 2 and result will be:</p>\n\n<pre><code>[1, 2, 3, 5];\n</code></pre>\n\n<p>This is showing how each item in splice work:</p>\n\n<blockquote>\n  <p>array.splice(start, deleteCount, item1, item2, item3 ...)</p>\n</blockquote>\n"},{"score":15,"body":"<p><strong>Append Single Element at a specific index</strong></p>\n\n<pre><code>//Append at specific position(here at index 1)\narrName.splice(1, 0,'newName1');\n//1: index number, 0: number of element to remove, newName1: new element\n\n\n//Append at specific position (here at index 3)\narrName[3] = 'newName1';\n</code></pre>\n\n<p><strong>Append Multiple Element at a specific index</strong></p>\n\n<pre><code>//Append from index number 1\narrName.splice(1, 0,'newElemenet1', 'newElemenet2', 'newElemenet3');\n//1: index number from where append start, \n//0: number of element to remove, \n//newElemenet1,2,3: new elements\n</code></pre>\n"},{"score":3,"body":"<p>Anyone who's still having issues with this one and have tried all the options above and never got it. I'm sharing my solution, this is to take consideration that you don't wan't to explicitly state the properties of your object vs the array.</p>\n\n<pre><code>function isIdentical(left, right){\n    return JSON.stringify(left) === JSON.stringify(right);\n}\n\nfunction contains(array, obj){\n    let count = 0;\n    array.map((cur) =&gt; {\n          if(this.isIdentical(cur, obj)) count++;\n    });\n    return count &gt; 0;\n}\n</code></pre>\n\n<p>This is a combination of iterating the reference array and comparing it to the object you wanted to check, convert both of them into a string then iterated if it matched. Then you can just count. This can be improved but this is where I settled. Hope this helps.</p>\n"},{"score":3,"body":"<p>Taking profit of reduce method as following:</p>\n\n<pre><code>function insert(arr, val, index) {\n    return index &gt;= arr.length \n        ? arr.concat(val)\n        : arr.reduce((prev, x, i) =&gt; prev.concat(i === index ? [val, x] : x), []);\n}\n</code></pre>\n\n<p>So at this way we can return a new array (will be a cool functional way - more much better than use push or splice) with the element inserted at index, and if the index is greater than the length of the array it will be inserted at the end.</p>\n"},{"score":1,"body":"<p>Here's a working function that I uses in one of my application. </p>\n\n<p>This checks if item exit</p>\n\n<pre><code>let ifExist = (item, strings = [ '' ], position = 0) =&gt; {\n     // output into an array with empty string. Important just in case their is no item. \n    let output = [ '' ];\n    // check to see if the item that will be positioned exist.\n    if (item) {\n        // output should equal to array of strings. \n        output = strings;\n       // use splice in order to break the array. \n       // use positition param to state where to put the item\n       // and 0 is to not replace an index. Item is the actual item we are placing at the prescribed position. \n        output.splice(position, 0, item);\n    }\n    //empty string is so we do not concatenate with comma or anything else. \n    return output.join(\"\");\n};\n</code></pre>\n\n<p>And then I call it below. </p>\n\n<pre><code>ifExist(\"friends\", [ ' ( ', ' )' ], 1)}  // output: ( friends )\nifExist(\"friends\", [ ' - '], 1)}  // output:  - friends \nifExist(\"friends\", [ ':'], 0)}  // output:   friends: \n</code></pre>\n"},{"score":1,"body":"<p>A bit of an older thread, but I have to agree with Redu above because splice definitely has a bit of a confusing interface. And the response given by cdbajorin that \"it only returns an empty array when the second parameter is 0. If it's greater than 0, it returns the items removed from the array\" is, while accurate, proving the point. The function's intent is to splice or as said earlier by Jakob Keller, \"to join or connect, also to change. You have an established array that you are now changing which would involve adding or removing elements....\" Given that, the return value of the elements, if any, that were removed is awkward at best. And I 100% agree that this method could have been better suited to chaining if it had returned what seems natural, a new array with the spliced elements added. Then you could do things like [\"19\", \"17\"].splice(1,0,\"18\").join(\"...\") or whatever you like with the returned array. The fact that it returns what was removed is just kinda nonsense IMHO. If the intention of the method was to \"cut out a set of elements\" and that was it's only intent, maybe. It seems like if I don't know what I'm cutting out already though, I probably have little reason to cut those elements out, doesn't it? It would be better if it behaved like concat, map, reduce, slice, etc where a new array is made from the existing array rather than mutating the existing array. Those are all chainable, and that IS a significant issue. It's rather common to chain array manipulation. Seems like the language needs to go one or the other direction and try to stick to it as much as possible. Javascript being functional and less declarative, it just seems like a strange deviation from the norm.</p>\n"},{"score":8,"body":"<p><strong>Here are two ways :</strong> </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const array = [ 'My', 'name', 'Hamza' ];\r\n\r\narray.splice(2, 0, 'is');\r\n\r\nconsole.log(\"Method 1 : \", array.join(\" \"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>OR</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Array.prototype.insert = function ( index, item ) {\r\n    this.splice( index, 0, item );\r\n};\r\n\r\nconst array = [ 'My', 'name', 'Hamza' ];\r\narray.insert(2, 'is');\r\n\r\nconsole.log(\"Method 2 : \", array.join(\" \"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"score":5,"body":"<p><a href=\"https://masteringjs.io/tutorials/fundamentals/array-splice\" rel=\"nofollow noreferrer\"><code>Array#splice()</code></a> is the way to go, unless you really want to avoid mutating the array. Given 2 arrays <code>arr1</code> and <code>arr2</code>, here's how you would insert the contents of <code>arr2</code> into <code>arr1</code> after the first element:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr1 = ['a', 'd', 'e'];\r\nconst arr2 = ['b', 'c'];\r\n\r\narr1.splice(1, 0, ...arr2); // arr1 now contains ['a', 'b', 'c', 'd', 'e']\r\n\r\nconsole.log(arr1)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you are concerned about mutating the array (for example, if using Immutable.js), you can instead use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice\" rel=\"nofollow noreferrer\"><code>slice()</code></a>, not to be confused with <code>splice()</code> with a <code>'p'</code>.</p>\n\n<pre><code>const arr3 = [...arr1.slice(0, 1), ...arr2, ...arr1.slice(1)];\n</code></pre>\n"},{"score":2,"body":"<h1>Solutions &amp; Performance</h1>\n<p>Today (2020.04.24) I perform tests for chosen solutions for big and small arrays . I tested them on MacOs High Sierra 10.13.6 on Chrome 81.0, Safari 13.1, Firefox 75.0.</p>\n<h2>Conclusions</h2>\n<p>For all browsers</p>\n<ul>\n<li>surprisingly for small arrays non-in-place solutions based on <code>slice</code> and <code>reduce</code> (D,E,F) are usually 10x-100x faster than in-place solutions</li>\n<li>for big arrays the in-place-solutions based on <code>splice</code> (AI,BI,CI) was fastest (sometimes ~100x - but it depends of array size)</li>\n<li>for small arrays BI solution was slowest</li>\n<li>for big arrays E solution was slowest</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/gZjhH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/gZjhH.png\" alt=\"enter image description here\" /></a></p>\n<h2>Details</h2>\n<p>Tests was divided into two groups: in-place solutions (AI,BI,CI) and non-in-place solutions (D,E,F) and was perform for two cases</p>\n<ul>\n<li>test for array with 10 elements - you can run it <a href=\"https://jsbench.me/bhk9e06ktc/1\" rel=\"noreferrer\">HERE</a></li>\n<li>test for array with 1.000.000 elements - you can run it <a href=\"https://jsbench.me/20k9e0au9q/1\" rel=\"noreferrer\">HERE</a></li>\n</ul>\n<p>Tested code is presented in below snippet</p>\n<p><a href=\"https://jsfiddle.net/Lamik/b14wkntp/\" rel=\"noreferrer\">jsfiddle</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function AI(arr, i, el) {\n  arr.splice(i, 0, el);\n  return arr;\n}\n\nfunction BI(arr, i, el) {\n  Array.prototype.splice.apply(arr, [i, 0, el]);\n  return arr;\n}\n\nfunction CI(arr, i, el) {\n  Array.prototype.splice.call(arr, i, 0, el);\n  return arr;\n}\n\nfunction D(arr, i, el) {\n  return arr.slice(0, i).concat(el, arr.slice(i));\n}\n\nfunction E(arr, i, el) {\n  return [...arr.slice(0, i), el, ...arr.slice(i)]\n}\n\nfunction F(arr, i, el) {\n  return arr.reduce((s, a, j)=&gt; (j-i ? s.push(a) : s.push(el, a), s), []);\n}\n\n\n\n// -------------\n// TEST\n// -------------\n\nlet arr = [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n\nlet log = (n, f) =&gt; {\n  let a = f([...arr], 3, \"NEW\");\n  console.log(`${n}: [${a}]`);\n};\n\nlog('AI', AI);\nlog('BI', BI);\nlog('CI', CI);\nlog('D', D);\nlog('E', E);\nlog('F', F);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>This snippet only presents tested code (it not perform tests)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Example results for small array on chrome are below</p>\n<p><a href=\"https://i.stack.imgur.com/cS1YZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cS1YZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"score":2,"body":"<h3>Immutable insertion</h3>\n<p>Using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/splice\" rel=\"nofollow noreferrer\"><code>splice</code></a> method is surely the best answer if you need to insert into an array in-place.</p>\n<p>However, if you are looking for an immutable function that returns a new updated array instead of mutating the original array on insert, you can use the following function.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function insert(array, index) {\n  const items = Array.prototype.slice.call(arguments, 2);\n\n  return [].concat(array.slice(0, index), items, array.slice(index));\n}\n\nconst list = ['one', 'two', 'three'];\n\nconst list1 = insert(list, 0, 'zero'); // Insert single item\nconst list2 = insert(list, 3, 'four', 'five', 'six'); // Insert multiple\n\n\nconsole.log('Original list: ', list);\nconsole.log('Inserted list1: ', list1);\nconsole.log('Inserted list2: ', list2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Note:</strong> This is a pre-ES2015 way of doing it so it works for both older and newer browsers.</p>\n<p>If you're using ES6 then you can try out <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters\" rel=\"nofollow noreferrer\">rest parameters</a> too; see <a href=\"https://stackoverflow.com/questions/586182/how-to-insert-an-item-into-an-array-at-a-specific-index-javascript/586189#answer-38181008\">this</a> answer.</p>\n"},{"score":1,"body":"<p>i like little safety and i use this</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>   Array.prototype.Insert = function (item, before) {\n        if (!item) return;\n        if (before == null || before &lt; 0 || before &gt; this.length - 1) {\n            this.push(item);\n            return;\n        }\n        this.splice(before, 0,item );\n    }\n    \n    \n   var t = [\"a\",\"b\"]\n   \n   t.Insert(\"v\",1)\n    \n    console.log(t )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"score":3165}